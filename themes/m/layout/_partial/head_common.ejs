<meta charset="utf-8">
<meta name="renderer" content="webkit">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">

<% if(theme.head.preload) { theme.head.preload.forEach(function(content) { %>
    <link rel="preload" <%- content %>>
<% })} if(theme.head.preconnect) { theme.head.preconnect.forEach(function(content) { %>
    <link rel="preconnect" <%- content %>>
<% })} if(theme.head.prefetch) { theme.head.prefetch.forEach(function(content) { %>
    <link rel="prefetch" <%- content %>>
<% })} if(theme.head.dns_prefetch) { theme.head.dns_prefetch.forEach(function(content) { %>
    <link rel="dns-prefetch" <%- content %>>
<% })} if(theme.head.stylesheet) { theme.head.stylesheet.forEach(function(content) { %>
    <link rel="stylesheet" <%- content %>>
<% })} %>

<%- css(theme.vendors.mdui_css) %>

<% if(config.prismjs.enable) { %>
    <%- css(theme.vendors.prism_theme) %>
    <% if(config.prismjs.line_numbers) { %>
        <%- css(theme.vendors.prism_line_numbers) %>
    <% } %>
<% } %>

<% if(theme.head.favicon) { %>
<link rel="icon shortcut" href="<%= theme.head.favicon %>">
<% } if(theme.head.high_res_icon) { %>
<link rel="icon" type="image/png" href="<%= theme.head.high_res_icon %>">
<% } if(theme.head.apple_touch_icon) { %>
<link rel="apple-touch-icon" href="<%= url_for(theme.head.apple_touch_icon) %>">
<% } if(theme.head.theme_color) { %>
<meta name="theme-color" content="<%= theme.head.theme_color %>">
<% } if(theme.plugins.pwa == true) { if(theme.vendors.webmanifest) { %>
    <link rel="manifest" href='<%- theme.vendors.webmanifest %>'>
    <% } else { %>
    <link rel="manifest" href="<%= url_for('/manifest.webmanifest') %>">
<% }} if (theme.url.rss && config.feed){ %>
    <% if(config.feed.type == "atom"){ %>
        <link rel=alternate type="application/atom+xml" href="<%= url_for(theme.url.rss) || '#' %>">
    <% } else if(config.feed.type == "rss2") { %>
        <link rel=alternate type="application/rss+xml" href="<%= url_for(theme.url.rss) || '#' %>">
<% }} %>

<!-- Google Fonts 추가 -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">

<style>
    html,body{scroll-behavior:smooth;min-height:100vh}
    blockquote>strong>a{word-break:break-all}
    .mdui-hoverable:hover,.mdui-hoverable:focus{-webkit-box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12) !important;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12) !important;}
    .mdui-card-primary-title a{text-decoration:none !important}
    .page-number{display:none !important}
    .mdui-container-fluid{transition:opacity .4s}
    <% if(theme.m.css) { %>
        <%- theme.m.css %>
    <% } %>
    
    /* 가독성 개선 CSS - 매우 높은 우선순위 */
    * {
        font-family: 'Noto Sans KR', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
    }
    
    /* 모든 본문 텍스트 크기 강제 변경 */
    body, html, div, p, span, li, td, th, a, strong, em {
        font-size: 18px !important;
        line-height: 1.9 !important;
        font-family: 'Noto Sans KR', sans-serif !important;
    }
    
    /* 카드 내용 전체 */
    .mdui-card .mdui-card-content,
    .mdui-card-content,
    .mdui-card .mdui-card-content *,
    .mdui-card-content * {
        font-size: 18px !important;
        line-height: 1.9 !important;
        color: #333 !important;
        word-break: keep-all !important;
        word-wrap: break-word !important;
    }
    
    /* 모든 문단 스타일 */
    p, .mdui-card-content p, .mdui-card p {
        margin-bottom: 1.5em !important;
        font-size: 18px !important;
        line-height: 1.9 !important;
        color: #333 !important;
    }
    
    /* 제목들 강제 크기 변경 */
    h1, .mdui-card-content h1, .mdui-card h1 {
        font-size: 2.5em !important;
        margin: 2em 0 1.3em 0 !important;
        font-weight: 700 !important;
        color: #2c3e50 !important;
        border-bottom: 3px solid #3498db !important;
        padding-bottom: 0.5em !important;
    }
    
    h2, .mdui-card-content h2, .mdui-card h2 {
        font-size: 2.1em !important;
        margin: 1.7em 0 1.1em 0 !important;
        font-weight: 600 !important;
        color: #34495e !important;
        border-left: 5px solid #3498db !important;
        padding-left: 0.8em !important;
    }
    
    h3, .mdui-card-content h3, .mdui-card h3 {
        font-size: 1.7em !important;
        margin: 1.5em 0 0.9em 0 !important;
        font-weight: 600 !important;
        color: #2c3e50 !important;
    }
    
    h4, .mdui-card-content h4, .mdui-card h4 {
        font-size: 1.4em !important;
        margin: 1.3em 0 0.7em 0 !important;
        font-weight: 600 !important;
        color: #34495e !important;
    }
    
    /* 리스트 스타일 강제 적용 */
    ul, ol, .mdui-card-content ul, .mdui-card-content ol {
        margin: 1.8em 0 !important;
        padding-left: 2.5em !important;
    }
    
    li, .mdui-card-content li {
        margin-bottom: 1em !important;
        line-height: 1.9 !important;
        font-size: 17px !important;
        color: #333 !important;
    }
    
    /* 코드 블록 강제 스타일 */
    pre, .mdui-card-content pre {
        background: #f8f9fa !important;
        border: 2px solid #e9ecef !important;
        border-radius: 10px !important;
        padding: 2em !important;
        margin: 2.5em 0 !important;
        overflow-x: auto !important;
        font-size: 16px !important;
        line-height: 1.7 !important;
        box-shadow: 0 4px 15px rgba(0,0,0,0.15) !important;
    }
    
    code, .mdui-card-content code {
        background: #f1f3f4 !important;
        padding: 4px 10px !important;
        border-radius: 5px !important;
        font-size: 0.9em !important;
        color: #d73a49 !important;
        font-weight: 600 !important;
        border: 1px solid #e1e4e8 !important;
    }
    
    pre code, .mdui-card-content pre code {
        background: none !important;
        padding: 0 !important;
        color: inherit !important;
        font-weight: normal !important;
        border: none !important;
    }
    
    /* 표 스타일 강제 적용 */
    table, .mdui-card-content table {
        width: 100% !important;
        border-collapse: collapse !important;
        margin: 2.5em 0 !important;
        font-size: 16px !important;
        box-shadow: 0 4px 15px rgba(0,0,0,0.1) !important;
        border-radius: 10px !important;
        overflow: hidden !important;
    }
    
    th, td, .mdui-card-content th, .mdui-card-content td {
        border: 1px solid #ddd !important;
        padding: 18px !important;
        text-align: left !important;
        font-size: 16px !important;
        line-height: 1.6 !important;
    }
    
    th, .mdui-card-content th {
        background: #f5f7fa !important;
        font-weight: 700 !important;
        color: #2c3e50 !important;
        border-bottom: 3px solid #3498db !important;
    }
    
    /* 이미지 스타일 */
    img, .mdui-card-content img {
        max-width: 100% !important;
        height: auto !important;
        margin: 2.5em auto !important;
        display: block !important;
        border-radius: 12px !important;
        box-shadow: 0 8px 25px rgba(0,0,0,0.2) !important;
        border: 2px solid #eee !important;
    }
    
    /* 카드 자체 스타일 */
    .mdui-card {
        box-shadow: 0 6px 20px rgba(0,0,0,0.15) !important;
        border-radius: 15px !important;
        margin-bottom: 2.5em !important;
        padding: 0 !important;
    }
    
    .mdui-card-content {
        padding: 2.5em !important;
    }
    
    /* 블록 인용문 */
    blockquote, .mdui-card-content blockquote {
        border-left: 6px solid #3498db !important;
        margin: 2.5em 0 !important;
        padding: 1.5em 2em !important;
        background: #f8f9ff !important;
        border-radius: 0 10px 10px 0 !important;
        font-style: italic !important;
        color: #555 !important;
        box-shadow: 0 3px 10px rgba(0,0,0,0.08) !important;
        font-size: 17px !important;
    }
    
    /* 모바일 반응형 */
    @media (max-width: 768px) {
        body, html, div, p, span, li, td, th, a, strong, em {
            font-size: 17px !important;
        }
        
        .mdui-card-content {
            padding: 2em !important;
        }
        
        h1, .mdui-card-content h1 {
            font-size: 2.2em !important;
        }
        
        h2, .mdui-card-content h2 {
            font-size: 1.9em !important;
        }
        
        h3, .mdui-card-content h3 {
            font-size: 1.6em !important;
        }
    }
    
    @media (max-width: 480px) {
        body, html, div, p, span, li, td, th, a, strong, em {
            font-size: 16px !important;
        }
        
        .mdui-card-content {
            padding: 1.5em !important;
        }
    }
    
    /* 추가: 컨테이너 너비 조정 */
    .mdui-container,
    .mdui-container-fluid {
        max-width: 900px !important;
        margin: 0 auto !important;
        padding: 0 20px !important;
    }
</style>