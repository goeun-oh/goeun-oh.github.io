<meta charset="utf-8">
<meta name="renderer" content="webkit">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">

<% if(theme.head.preload) { theme.head.preload.forEach(function(content) { %>
    <link rel="preload" <%- content %>>
<% })} if(theme.head.preconnect) { theme.head.preconnect.forEach(function(content) { %>
    <link rel="preconnect" <%- content %>>
<% })} if(theme.head.prefetch) { theme.head.prefetch.forEach(function(content) { %>
    <link rel="prefetch" <%- content %>>
<% })} if(theme.head.dns_prefetch) { theme.head.dns_prefetch.forEach(function(content) { %>
    <link rel="dns-prefetch" <%- content %>>
<% })} if(theme.head.stylesheet) { theme.head.stylesheet.forEach(function(content) { %>
    <link rel="stylesheet" <%- content %>>
<% })} %>

<%- css(theme.vendors.mdui_css) %>

<% if(config.prismjs.enable) { %>
    <%- css(theme.vendors.prism_theme) %>
    <% if(config.prismjs.line_numbers) { %>
        <%- css(theme.vendors.prism_line_numbers) %>
    <% } %>
<% } %>

<% if(theme.head.favicon) { %>
<link rel="icon shortcut" href="<%= theme.head.favicon %>">
<% } if(theme.head.high_res_icon) { %>
<link rel="icon" type="image/png" href="<%= theme.head.high_res_icon %>">
<% } if(theme.head.apple_touch_icon) { %>
<link rel="apple-touch-icon" href="<%= url_for(theme.head.apple_touch_icon) %>">
<% } if(theme.head.theme_color) { %>
<meta name="theme-color" content="<%= theme.head.theme_color %>">
<% } if(theme.plugins.pwa == true) { if(theme.vendors.webmanifest) { %>
    <link rel="manifest" href='<%- theme.vendors.webmanifest %>'>
    <% } else { %>
    <link rel="manifest" href="<%= url_for('/manifest.webmanifest') %>">
<% }} if (theme.url.rss && config.feed){ %>
    <% if(config.feed.type == "atom"){ %>
        <link rel=alternate type="application/atom+xml" href="<%= url_for(theme.url.rss) || '#' %>">
    <% } else if(config.feed.type == "rss2") { %>
        <link rel=alternate type="application/rss+xml" href="<%= url_for(theme.url.rss) || '#' %>">
<% }} %>

<!-- Google Fonts 추가 -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">

<style>
    html,body{scroll-behavior:smooth;min-height:100vh}
    blockquote>strong>a{word-break:break-all}
    .mdui-hoverable:hover,.mdui-hoverable:focus{-webkit-box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12) !important;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12) !important;}
    .mdui-card-primary-title a{text-decoration:none !important}
    .page-number{display:none !important}
    .mdui-container-fluid{transition:opacity .4s}
    <% if(theme.m.css) { %>
        <%- theme.m.css %>
    <% } %>
    
    /* 블로그 포스트 페이지에서만 적용되는 가독성 개선 CSS */
    
    /* 포스트 페이지 확인 - post 클래스가 있는 body에만 적용 */
    body.post .mdui-card-content,
    body.post .mdui-card-content p,
    body.post .mdui-card-content div,
    body.post .mdui-card-content span,
    body.post .mdui-card-content li {
        font-family: 'Noto Sans KR', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
        font-size: 17px !important;
        line-height: 1.8 !important;
        color: #333 !important;
        word-break: keep-all !important;
        word-wrap: break-word !important;
    }
    
    /* 포스트 본문 문단 스타일 */
    body.post .mdui-card-content p {
        margin-bottom: 1.4em !important;
    }
    
    /* 포스트 제목들 */
    body.post .mdui-card-content h1 {
        font-size: 2.4em !important;
        margin: 1.8em 0 1.2em 0 !important;
        font-weight: 700 !important;
        color: #2c3e50 !important;
        border-bottom: 3px solid #3498db !important;
        padding-bottom: 0.5em !important;
    }
    
    body.post .mdui-card-content h2 {
        font-size: 2.0em !important;
        margin: 1.6em 0 1.0em 0 !important;
        font-weight: 600 !important;
        color: #34495e !important;
        border-left: 4px solid #3498db !important;
        padding-left: 0.8em !important;
    }
    
    body.post .mdui-card-content h3 {
        font-size: 1.6em !important;
        margin: 1.4em 0 0.8em 0 !important;
        font-weight: 600 !important;
        color: #2c3e50 !important;
    }
    
    body.post .mdui-card-content h4 {
        font-size: 1.3em !important;
        margin: 1.2em 0 0.6em 0 !important;
        font-weight: 600 !important;
        color: #34495e !important;
    }
    
    /* 포스트 리스트 스타일 */
    body.post .mdui-card-content ul, 
    body.post .mdui-card-content ol {
        margin: 1.5em 0 !important;
        padding-left: 2.2em !important;
    }
    
    body.post .mdui-card-content li {
        margin-bottom: 0.8em !important;
        font-size: 16px !important;
    }
    
    /* 포스트 코드 블록 스타일 */
    body.post .mdui-card-content pre {
        background: #f8f9fa !important;
        border: 1px solid #e9ecef !important;
        border-radius: 8px !important;
        padding: 1.5em !important;
        margin: 2em 0 !important;
        overflow-x: auto !important;
        font-size: 15px !important;
        line-height: 1.6 !important;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
    }
    
    body.post .mdui-card-content code {
        background: #f1f3f4 !important;
        padding: 3px 8px !important;
        border-radius: 4px !important;
        font-size: 0.9em !important;
        color: #d73a49 !important;
        font-weight: 500 !important;
    }
    
    body.post .mdui-card-content pre code {
        background: none !important;
        padding: 0 !important;
        color: inherit !important;
        font-weight: normal !important;
    }
    
    /* 포스트 인라인 코드 스타일 */
    body.post .mdui-card-content p code, 
    body.post .mdui-card-content li code {
        background: #fff2f2 !important;
        color: #d73a49 !important;
        font-weight: 600 !important;
        border: 1px solid #ffebee !important;
    }
    
    /* 포스트 이미지 스타일 */
    body.post .mdui-card-content img {
        max-width: 100% !important;
        height: auto !important;
        margin: 2em auto !important;
        display: block !important;
        border-radius: 10px !important;
        box-shadow: 0 6px 20px rgba(0,0,0,0.15) !important;
        border: 1px solid #eee !important;
    }
    
    /* 포스트 표 스타일 */
    body.post .mdui-card-content table {
        width: 100% !important;
        border-collapse: collapse !important;
        margin: 2em 0 !important;
        font-size: 15px !important;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
        border-radius: 8px !important;
        overflow: hidden !important;
    }
    
    body.post .mdui-card-content th,
    body.post .mdui-card-content td {
        border: 1px solid #ddd !important;
        padding: 15px !important;
        text-align: left !important;
    }
    
    body.post .mdui-card-content th {
        background: #f5f7fa !important;
        font-weight: 600 !important;
        color: #2c3e50 !important;
        border-bottom: 2px solid #3498db !important;
    }
    
    body.post .mdui-card-content tr:nth-child(even) {
        background: #f9f9f9 !important;
    }
    
    /* 포스트 카드 스타일 */
    body.post .mdui-card {
        box-shadow: 0 4px 12px rgba(0,0,0,0.1) !important;
        border-radius: 12px !important;
        margin-bottom: 2em !important;
    }
    
    body.post .mdui-card-content {
        padding: 2em !important;
    }
    
    /* 포스트 블록 인용문 */
    body.post .mdui-card-content blockquote {
        border-left: 5px solid #3498db !important;
        margin: 2em 0 !important;
        padding: 1.2em 1.8em !important;
        background: #f8f9ff !important;
        border-radius: 0 8px 8px 0 !important;
        font-style: italic !important;
        color: #555 !important;
        box-shadow: 0 2px 8px rgba(0,0,0,0.05) !important;
    }
    
    /* 모바일 반응형 - 포스트 페이지만 */
    @media (max-width: 768px) {
        body.post .mdui-card-content,
        body.post .mdui-card-content p,
        body.post .mdui-card-content div,
        body.post .mdui-card-content span,
        body.post .mdui-card-content li {
            font-size: 16px !important;
        }
        
        body.post .mdui-card-content {
            padding: 1.5em !important;
        }
        
        body.post .mdui-card-content h1 {
            font-size: 2.0em !important;
        }
        
        body.post .mdui-card-content h2 {
            font-size: 1.7em !important;
        }
        
        body.post .mdui-card-content h3 {
            font-size: 1.4em !important;
        }
    }
</style>